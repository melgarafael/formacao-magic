---
const timelineSteps = [
  {
    phase: "01",
    title: "Entender e aprender a fazer minha primeira automação",
    description: "Comece aprendendo a usar a ferramenta de automação e já construa algo voltado pro seu mercado de interesse.",
    example: "Se você escolheu clínicas, já vai aprender a criar um agente de atendimento e agendamento.",
    icon: "wrench",
    modalContent: {
      intro: "Na Formação Magic, você começa sua jornada aprendendo os fundamentos essenciais para criar seu primeiro Agente de IA do zero.",
      description: [
        "Dominar a ferramenta **n8n**, mesmo sem saber programação",
        "Criar um Agente de Atendimento + Agendamento para uma clínica",
        "Montar um fluxo real com **entradas, decisões e ações**",
        "Acesso a templates prontos + **mentoria de orientação**"
      ],
      inspiration: "Você sai dessa fase com seu **primeiro robô real funcionando**, pronto pra apresentar como portfólio."
    }
  },
  {
    phase: "02",
    title: "Criar minha primeira automação (Vitória inicial)",
    description: "Execute na prática seu primeiro projeto com dados reais e faça os ajustes necessários.",
    example: "Aprenda a usar ferramentas essenciais e veja sua primeira automação funcionando.",
    icon: "sparkles",
    modalContent: {
      intro: "Aqui você entra em ação, aplicando o que aprendeu para desenvolver seu primeiro projeto do zero até a entrega real.",
      description: [
        "Entregar automações personalizadas para nichos como clínicas, escolas ou ecommerces",
        "Utilizar a IA para entender o cliente e adaptar as automações",
        "Usar templates e personalizar de acordo com o objetivo do cliente",
        "Receber feedback ao vivo nas mentorias semanais"
      ],
      inspiration: "Você entrega sua primeira automação funcional e **ganha confiança** com uma vitória real."
    }
  },
  {
    phase: "03",
    title: "Validar com alguém real",
    description: "Aprenda a oferecer sua solução de forma estratégica e colher feedbacks valiosos.",
    example: "Monte seu primeiro portfólio com casos reais e resultados comprovados.",
    icon: "users",
    modalContent: {
      intro: "Chegou a hora de aplicar para o mundo real e testar sua entrega em alguém — mesmo que de graça.",
      description: [
        "Como abordar um possível cliente para entregar sua automação",
        "Usar essa entrega como **case de sucesso**",
        "Entender o valor da sua automação resolvendo um problema real",
        "Transformar feedbacks em melhorias"
      ],
      inspiration: "Você valida seu projeto com alguém real e ganha sua **primeira prova social + experiência prática.**"
    }
  },
  {
    phase: "04",
    title: "Criar uma Proposta Simples de Valor (PSV)",
    description: "Desenvolva uma proposta que demonstre valor real para seus potenciais clientes.",
    example: "Use técnicas de copy e IA para criar apresentações persuasivas.",
    icon: "light-bulb",
    modalContent: {
      intro: "Agora você transforma conhecimento em negócio. Cria sua mensagem, oferta e posicionamento de forma clara.",
      description: [
        "Criar sua **PSV** em um formato direto e irresistível",
        "Entender o seu diferencial no mercado de IA",
        "Comunicar com clareza como você gera valor com automações",
        "Posicionar-se como **profissional**, não mais como iniciante"
      ],
      inspiration: "Você sai com uma proposta irresistível e **pronto pra vender**."
    }
  },
  {
    phase: "05",
    title: "Prospectar de forma inteligente e simples",
    description: "Aprenda a atrair clientes de forma orgânica e eficiente.",
    example: "Use IA para gerar conexões relevantes no WhatsApp, Instagram e LinkedIn.",
    icon: "paper-airplane",
    modalContent: {
      intro: "Hora de ir pro campo! Com seu case validado e PSV pronta, você começa a atrair e fechar os primeiros clientes.",
      description: [
        "Abordagens de prospecção via grupos, directs, parcerias",
        "Como marcar reuniões de apresentação de forma simples",
        "Como usar provas sociais, portfólio e PSV pra **fechar com confiança**",
        "Técnicas de fechamento consultivo"
      ],
      inspiration: "Você começa a fechar contratos reais de R$1.000 a R$2.000/mês."
    }
  },
  {
    phase: "06",
    title: "Fechar os primeiros contratos",
    description: "Domine as técnicas de vendas e negociação para converter leads em clientes.",
    example: "Estruture reuniões efetivas e aprenda a precificar seus serviços.",
    icon: "briefcase",
    modalContent: {
      intro: "Você aprende como gerar resultados constantes, surpreender o cliente e transformar um projeto em recorrência.",
      description: [
        "Criar um plano de manutenção mensal para automações",
        "Como propor melhorias contínuas nos fluxos",
        "Como usar **feedbacks e dados** para gerar mais resultado",
        "Pedir depoimentos e criar autoridade com isso"
      ],
      inspiration: "Você fideliza seus primeiros clientes e começa a construir **recorrência mensal**."
    }
  },
  {
    phase: "07",
    title: "Entregar, colher depoimentos e crescer",
    description: "Estabeleça um processo de entrega eficiente e colete feedbacks positivos.",
    example: "Transforme clientes satisfeitos em cases de sucesso e referências.",
    icon: "star",
    modalContent: {
      intro: "Você domina o ciclo de melhoria contínua, cria novas automações por iniciativa própria e multiplica seus contratos.",
      description: [
        "Como aplicar as 3 perguntas mágicas do pós-venda:",
        "– O que posso otimizar?",
        "– Onde posso sugerir novas automações?",
        "– Como posso gerar ainda mais resultado?",
        "Técnicas para **aumentar o LTV** de cada cliente",
        "Como usar seus resultados para atrair novos clientes"
      ],
      inspiration: "Você transforma contratos de R$1.000 em contratos de R$3.000+ com upgrades."
    }
  },
  {
    phase: "08",
    title: "Estruturar o ecossistema de automações",
    description: "Monte um sistema completo e escalável de automações integradas.",
    example: "Crie um setor comercial autônomo com gestão inteligente por IA.",
    icon: "cpu-chip",
    modalContent: {
      intro: "Agora você começa a pensar como um verdadeiro estrategista. Estrutura uma operação completa com IA e automações.",
      description: [
        "Construir Agentes Comerciais com IA",
        "Automatizar o atendimento e o suporte dos seus clientes",
        "Criar Agentes com **acesso a dados e bancos de dados**",
        "Criar funis de vendas 100% automatizados com IA",
        "Construir Agentes Gestores e tomar decisões com base em dados"
      ],
      inspiration: "Você sai da Formação Magic com um **ecossistema de automações pronto pra escalar** e faturar de forma exponencial."
    }
  }
];

import JourneyModal from './JourneyModal.astro';
---

<section class="section bg-dark-950 relative py-24">
  <div class="absolute top-0 right-0 w-1/2 h-1/2 bg-primary-900/10 blur-[120px] -z-10"></div>
  
  <div class="container-custom" x-data="{ activeModal: null }">
    <div class="text-center max-w-3xl mx-auto mb-16 fade-in-element">
      <h2 class="mb-6">A Jornada para Você Começar a <span class="text-accent-400">Ganhar com IA</span></h2>
      <p class="text-gray-300 text-lg">
        Descubra o passo a passo que transforma iniciantes em profissionais com resultados reais usando Agentes de IA.
      </p>
    </div>

    <div class="relative max-w-4xl mx-auto">
      <!-- Timeline line -->
      <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary-500/50 via-accent-500/50 to-primary-500/50"></div>

      <div class="space-y-12">
        {timelineSteps.map((step, index) => (
          <div class="relative group fade-in-element">
            <div class={`flex items-start gap-8 ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
              <!-- Timeline dot -->
              <div class="absolute left-4 md:left-1/2 w-4 h-4 -ml-2 rounded-full bg-accent-500 border-2 border-dark-950 group-hover:scale-125 transition-transform duration-300"></div>

              <!-- Content -->
              <div class={`w-full md:w-1/2 ${index % 2 === 0 ? 'md:pl-8' : 'md:pr-8'} pl-12`}>
                <div 
                  class="card group-hover:border-primary-500/30 transition-all duration-300 cursor-pointer relative"
                  @click={`activeModal = 'phase-${step.phase}'`}
                >
                  <!-- Click indicator -->
                  <div class="absolute top-4 right-4 w-8 h-8 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-400 opacity-50 group-hover:opacity-100 transition-opacity">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                    </svg>
                  </div>

                  <div class="flex items-start gap-4">
                    <div class="w-12 h-12 rounded-xl bg-primary-500/10 flex items-center justify-center text-primary-400">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d={
                          step.icon === "wrench" ? "M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z" :
                          step.icon === "sparkles" ? "M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" :
                          step.icon === "users" ? "M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" :
                          step.icon === "light-bulb" ? "M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" :
                          step.icon === "paper-airplane" ? "M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" :
                          step.icon === "briefcase" ? "M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" :
                          step.icon === "star" ? "M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" :
                          step.icon === "cpu-chip" ? "M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z" :
                          "M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z"
                        } />
                      </svg>
                    </div>
                    <div>
                      <div class="flex items-center gap-2 mb-1">
                        <div class="text-sm text-primary-400 font-medium">Fase {step.phase}</div>
                      </div>
                      <h3 class="text-lg font-bold mb-2">{step.title}</h3>
                      <p class="text-gray-300 mb-3">{step.description}</p>
                      <p class="text-sm text-gray-400 whitespace-pre-line">{step.example}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <JourneyModal
              phase={step.phase}
              title={step.title}
              icon={
                step.icon === "wrench" ? "M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z" :
                step.icon === "sparkles" ? "M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" :
                step.icon === "users" ? "M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" :
                step.icon === "light-bulb" ? "M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" :
                step.icon === "paper-airplane" ? "M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" :
                step.icon === "briefcase" ? "M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z" :
                step.icon === "star" ? "M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" :
                step.icon === "cpu-chip" ? "M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z" :
                "M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z"
              }
              content={step.modalContent}
            />
          </div>
        ))}
      </div>
    </div>

    <p class="text-center text-lg font-medium mt-12 text-neutral-300">
      Na Formação Magic você tem uma jornada clara, com uma trilha de estudos que te leva aos <strong class="text-primary-500">R$10 mil mensais</strong> sem confusão!
    </p>
  </div>
</section>

<style>
  [x-cloak] {
    display: none !important;
  }
</style>