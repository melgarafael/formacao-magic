---
const features = [
  {
    id: "course",
    title: "Curso Completo de Automa√ß√£o",
    description: "Domine n8n, IA, Make, JSON, GPT e APIs atrav√©s de aulas pr√°ticas e objetivas.",
    icon: "üìö",
    modalContent: {
      title: "Curso Completo de Automa√ß√£o",
      description: "Domine ferramentas como n8n, Make, JSON, GPT, APIs e muito mais. Mesmo sem saber programar, voc√™ ser√° guiado com aulas pr√°ticas direto ao ponto.",
      story: "Jo√£o era gar√ßom e sem nenhuma base t√©cnica. Em 1 m√™s, montou seu primeiro Agente de IA e fechou um contrato de R$1.800 com um sal√£o de beleza usando s√≥ o que aprendeu na Forma√ß√£o."
    }
  },
  {
    id: "content",
    title: "400+ Horas de Conte√∫do",
    description: "Material extenso e completo para voc√™ aprender no seu ritmo, do b√°sico ao avan√ßado.",
    icon: "‚è±Ô∏è",
    modalContent: {
      title: "400+ Horas de Conte√∫do",
      description: "Acesso a um acervo profundo de aulas do b√°sico ao avan√ßado, com tudo que voc√™ precisa para criar fluxos reais e vender solu√ß√µes no mercado.",
      story: "Voc√™ quer criar um Agente com conex√£o a banco de dados. Em vez de pesquisar por horas no YouTube, basta buscar no conte√∫do e j√° tem uma aula pronta, passo a passo."
    }
  },
  {
    id: "mentoring",
    title: "4 Mentorias Semanais ao Vivo",
    description: "Sess√µes via Zoom para tirar d√∫vidas, revisar projetos e acelerar seu aprendizado.",
    icon: "üîÑ",
    modalContent: {
      title: "4 Mentorias Semanais ao Vivo",
      description: "Sess√µes semanais no Zoom com especialistas para tirar d√∫vidas, revisar projetos e acelerar sua evolu√ß√£o.",
      story: "Voc√™ travou numa l√≥gica complexa do n8n. Na mentoria de quarta-feira, um mentor compartilha a tela, destrava sua l√≥gica e ainda te d√° um insight que vira uma nova entrega para seu cliente."
    }
  },
  {
    id: "templates",
    title: "Templates Prontos para Usar",
    description: "Copie e adapte modelos funcionais para seus projetos e economize tempo.",
    icon: "üìã",
    modalContent: {
      title: "Templates Prontos para Usar",
      description: "Acesso a modelos de agentes j√° testados: comercial, atendimento, agendamento, CRM, etc. √â s√≥ copiar, adaptar e usar.",
      story: "Voc√™ acabou de conseguir um cliente novo. Em vez de come√ßar do zero, voc√™ pega o template de Agente de Agendamento, ajusta os dados do cliente e entrega no mesmo dia."
    }
  },
  {
    id: "community",
    title: "Comunidade Exclusiva no Discord",
    description: "Conecte-se com outros alunos e especialistas para networking e colabora√ß√£o.",
    icon: "üë•",
    modalContent: {
      title: "Comunidade Exclusiva no Discord",
      description: "Ambiente ativo para networking, d√∫vidas e oportunidades. Muitos alunos fazem parcerias ou conseguem clientes ali mesmo.",
      story: "Ana compartilha seu primeiro projeto no Discord. Em 15 minutos, recebe um feedback valioso e um convite para parceria com outro aluno que atua na mesma √°rea."
    }
  },
  {
    id: "support",
    title: "Suporte T√©cnico Especializado",
    description: "Ajuda por IA e humanos para resolver qualquer problema t√©cnico que aparecer.",
    icon: "üõ†Ô∏è",
    modalContent: {
      title: "Suporte T√©cnico Especializado",
      description: "N√£o sabe o que deu errado no fluxo? Tem acesso a IA + equipe humana pra resolver qualquer travamento t√©cnico, direto pelo painel.",
      story: "Voc√™ est√° com um erro no webhook. Em vez de passar horas tentando resolver, aciona o suporte e recebe a resposta exata em minutos."
    }
  },
  {
    id: "platform",
    title: "Plataforma Tomik Jobs",
    description: "Acesso exclusivo ao nosso marketplace de projetos reais de automa√ß√£o e IA.",
    icon: "üíº",
    modalContent: {
      title: "Plataforma Tomik Jobs",
      description: "Acesso ao nosso marketplace de automa√ß√µes. Poste servi√ßos, receba propostas e feche com empres√°rios reais.",
      story: "Ap√≥s criar seu primeiro Agente Comercial, voc√™ sobe no Tomik Jobs. Uma empresa entra em contato, e em menos de uma semana voc√™ fecha um projeto de R$3.500."
    }
  },
  {
    id: "certificate",
    title: "Certificado de Conclus√£o",
    description: "Documento que comprova suas habilidades para apresentar a clientes e empresas.",
    icon: "üèÜ",
    modalContent: {
      title: "Certificado de Conclus√£o",
      description: "Documento oficial ao final da Forma√ß√£o, ideal para mostrar no LinkedIn, em propostas comerciais ou entrevistas.",
      story: "Voc√™ prospecta clientes no LinkedIn. Envia seu certificado + portf√≥lio. O cliente responde: 'S√≥ pelo n√≠vel disso aqui j√° d√° pra ver que voc√™ √© diferenciado.' Contrato fechado."
    }
  }
];
---

<section class="section bg-dark-950 relative">
  <div class="absolute top-0 left-0 w-full h-40 bg-dark-900 -z-10"></div>
  
  <div class="container-custom">
    <div class="text-center max-w-3xl mx-auto mb-16 fade-in-element">
      <h2 class="mb-6">O Que Voc√™ Vai <span class="text-accent-400">Receber</span></h2>
      <p class="text-gray-300 text-lg">
        A Forma√ß√£o Magic inclui tudo que voc√™ precisa para dominar automa√ß√µes com IA e come√ßar a ganhar dinheiro com essa habilidade.
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 fade-in-element" x-data="{ activeModal: null }">
      {features.map((feature) => (
        <div 
          class="card hover:bg-dark-800 transition-all duration-300 cursor-pointer group relative"
          @click={`activeModal = '${feature.id}'`}
        >
          <div class="absolute top-4 right-4 md:opacity-0 md:group-hover:opacity-100 transition-opacity">
            <div class="w-6 h-6 rounded-full bg-primary-500/20 flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-primary-400">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
              </svg>
            </div>
          </div>
          
          <div class="text-4xl mb-4">{feature.icon}</div>
          <h3 class="text-xl font-bold mb-2">{feature.title}</h3>
          <p class="text-gray-300">{feature.description}</p>
        </div>

        <div
          x-show={`activeModal === '${feature.id}'`}
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 transform scale-90"
          x-transition:enter-end="opacity-100 transform scale-100"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100 transform scale-100"
          x-transition:leave-end="opacity-0 transform scale-90"
          class="fixed inset-0 z-50 flex items-center justify-center p-4"
          x-cloak
        >
          <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" @click={`activeModal = null`}></div>
          
          <div class="relative bg-dark-800 rounded-xl max-w-lg w-full p-6 md:p-8">
            <button 
              class="absolute top-4 right-4 text-gray-400 hover:text-white"
              @click={`activeModal = null`}
            >
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>

            <div class="text-center mb-6">
              <div class="text-5xl mb-4">{feature.icon}</div>
              <h3 class="text-2xl font-bold">{feature.modalContent.title}</h3>
            </div>

            <div class="space-y-6">
              <p class="text-gray-300">{feature.modalContent.description}</p>
              
              <div class="bg-dark-900 rounded-lg p-4">
                <div class="flex items-center gap-2 text-primary-400 mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
                  </svg>
                  <span class="font-medium">Caso Real</span>
                </div>
                <p class="text-gray-300">{feature.modalContent.story}</p>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  import Alpine from 'alpinejs';
  window.Alpine = Alpine;
  Alpine.start();
</script>

<style>
  [x-cloak] {
    display: none !important;
  }
</style>